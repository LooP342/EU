<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>carousel.js - Documentation</title><script src="scripts/prettify/prettify.js"></script><script src="scripts/prettify/lang-css.js"></script><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><link href="styles/prettify.css" rel="stylesheet" type="text/css"><link href="styles/jsdoc.css" rel="stylesheet" type="text/css"><script src="scripts/nav.js" defer></script><meta content="width=device-width,initial-scale=1" name="viewport"></head><body><input class="nav-trigger" id="nav-trigger" type="checkbox"> <label class="navicon-button x" for="nav-trigger"><div class="navicon"></div></label> <label class="overlay" for="nav-trigger"></label><nav><h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Carousel.html">Carousel</a><ul class="methods"><li data-type="method"><a href="Carousel.html#checkBannerHeights">checkBannerHeights</a></li><li data-type="method"><a href="Carousel.html#checkIndex">checkIndex</a></li><li data-type="method"><a href="Carousel.html#destroy">destroy</a></li><li data-type="method"><a href="Carousel.html#dragAction">dragAction</a></li><li data-type="method"><a href="Carousel.html#dragEnd">dragEnd</a></li><li data-type="method"><a href="Carousel.html#dragStart">dragStart</a></li><li data-type="method"><a href="Carousel.html#handleAutoPlay">handleAutoPlay</a></li><li data-type="method"><a href="Carousel.html#handleFocus">handleFocus</a></li><li data-type="method"><a href="Carousel.html#handleKeyboardOnBullets">handleKeyboardOnBullets</a></li><li data-type="method"><a href="Carousel.html#handleKeyboardOnPlay">handleKeyboardOnPlay</a></li><li data-type="method"><a href="Carousel.html#handleMouseOut">handleMouseOut</a></li><li data-type="method"><a href="Carousel.html#handleMouseOver">handleMouseOver</a></li><li data-type="method"><a href="Carousel.html#handleResize">handleResize</a></li><li data-type="method"><a href="Carousel.html#init">init</a></li><li data-type="method"><a href="Carousel.html#moveSlides">moveSlides</a></li><li data-type="method"><a href="Carousel.html#resetBannerHeights">resetBannerHeights</a></li><li data-type="method"><a href="Carousel.html#shiftSlide">shiftSlide</a></li><li data-type="method"><a href="Carousel.html#.autoInit">autoInit</a></li></ul></li></ul></nav><div id="main"><h1 class="page-title">carousel.js</h1><section><article><pre class="prettyprint source linenums"><ol class="linenums"><li class="L0" id="line1"><code><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> queryOne</span><span class="pun">,</span><span class="pln"> queryAll </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@ecl/dom-utils'</span><span class="pun">;</span></code></li><li class="L1" id="line2"><code></code></li><li class="L2" id="line3"><code><span class="com">/**</span></code></li><li class="L3" id="line4"><code><span class="com"> * @param {HTMLElement} element DOM element for component instantiation and scope</span></code></li><li class="L4" id="line5"><code><span class="com"> * @param {Object} options</span></code></li><li class="L5" id="line6"><code><span class="com"> * @param {String} options.toggleSelector Selector for toggling element</span></code></li><li class="L6" id="line7"><code><span class="com"> * @param {String} options.contentClass Selector for the content container</span></code></li><li class="L7" id="line8"><code><span class="com"> * @param {String} options.slidesClass Selector for the slides container</span></code></li><li class="L8" id="line9"><code><span class="com"> * @param {String} options.slideClass Selector for the slide items</span></code></li><li class="L9" id="line10"><code><span class="com"> * @param {String} options.navigationClass Selector for the navigation container</span></code></li><li class="L0" id="line11"><code><span class="com"> * @param {String} options.currentSlideClass Selector for the counter current slide number</span></code></li><li class="L1" id="line12"><code><span class="com"> */</span></code></li><li class="L2" id="line13"><code><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Carousel</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line14"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L4" id="line15"><code><span class="com">   * @static</span></code></li><li class="L5" id="line16"><code><span class="com">   * Shorthand for instance creation and initialisation.</span></code></li><li class="L6" id="line17"><code><span class="com">   *</span></code></li><li class="L7" id="line18"><code><span class="com">   * @param {HTMLElement} root DOM element for component instantiation and scope</span></code></li><li class="L8" id="line19"><code><span class="com">   *</span></code></li><li class="L9" id="line20"><code><span class="com">   * @return {Carousel} An instance of Carousel.</span></code></li><li class="L0" id="line21"><code><span class="com">   */</span></code></li><li class="L1" id="line22"><code><span class="pln">  </span><span class="kwd">static</span><span class="pln"> autoInit</span><span class="pun">(</span><span class="pln">root</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> CAROUSEL</span><span class="pun">:</span><span class="pln"> defaultOptions </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{})</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line23"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> carousel </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Carousel</span><span class="pun">(</span><span class="pln">root</span><span class="pun">,</span><span class="pln"> defaultOptions</span><span class="pun">);</span></code></li><li class="L3" id="line24"><code><span class="pln">    carousel</span><span class="pun">.</span><span class="pln">init</span><span class="pun">();</span></code></li><li class="L4" id="line25"><code><span class="pln">    root</span><span class="pun">.</span><span class="typ">ECLCarousel</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> carousel</span><span class="pun">;</span></code></li><li class="L5" id="line26"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> carousel</span><span class="pun">;</span></code></li><li class="L6" id="line27"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L7" id="line28"><code></code></li><li class="L8" id="line29"><code><span class="pln">  constructor</span><span class="pun">(</span></code></li><li class="L9" id="line30"><code><span class="pln">    element</span><span class="pun">,</span></code></li><li class="L0" id="line31"><code><span class="pln">    </span><span class="pun">{</span></code></li><li class="L1" id="line32"><code><span class="pln">      playSelector </span><span class="pun">=</span><span class="pln"> </span><span class="str">'.ecl-carousel__play'</span><span class="pun">,</span></code></li><li class="L2" id="line33"><code><span class="pln">      pauseSelector </span><span class="pun">=</span><span class="pln"> </span><span class="str">'.ecl-carousel__pause'</span><span class="pun">,</span></code></li><li class="L3" id="line34"><code><span class="pln">      containerClass </span><span class="pun">=</span><span class="pln"> </span><span class="str">'.ecl-carousel__container'</span><span class="pun">,</span></code></li><li class="L4" id="line35"><code><span class="pln">      slidesClass </span><span class="pun">=</span><span class="pln"> </span><span class="str">'.ecl-carousel__slides'</span><span class="pun">,</span></code></li><li class="L5" id="line36"><code><span class="pln">      slideClass </span><span class="pun">=</span><span class="pln"> </span><span class="str">'.ecl-carousel__slide'</span><span class="pun">,</span></code></li><li class="L6" id="line37"><code><span class="pln">      currentSlideClass </span><span class="pun">=</span><span class="pln"> </span><span class="str">'.ecl-carousel__current'</span><span class="pun">,</span></code></li><li class="L7" id="line38"><code><span class="pln">      navigationItemsClass </span><span class="pun">=</span><span class="pln"> </span><span class="str">'.ecl-carousel__navigation-item'</span><span class="pun">,</span></code></li><li class="L8" id="line39"><code><span class="pln">      controlsClass </span><span class="pun">=</span><span class="pln"> </span><span class="str">'.ecl-carousel__controls'</span><span class="pun">,</span></code></li><li class="L9" id="line40"><code><span class="pln">      attachClickListener </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L0" id="line41"><code><span class="pln">      attachResizeListener </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L1" id="line42"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{},</span></code></li><li class="L2" id="line43"><code><span class="pln">  </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line44"><code><span class="pln">    </span><span class="com">// Check element</span></code></li><li class="L4" id="line45"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">element </span><span class="pun">||</span><span class="pln"> element</span><span class="pun">.</span><span class="pln">nodeType </span><span class="pun">!==</span><span class="pln"> </span><span class="typ">Node</span><span class="pun">.</span><span class="pln">ELEMENT_NODE</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line46"><code><span class="pln">      </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TypeError</span><span class="pun">(</span></code></li><li class="L6" id="line47"><code><span class="pln">        </span><span class="str">'DOM element should be given to initialize this widget.'</span><span class="pun">,</span></code></li><li class="L7" id="line48"><code><span class="pln">      </span><span class="pun">);</span></code></li><li class="L8" id="line49"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9" id="line50"><code></code></li><li class="L0" id="line51"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">;</span></code></li><li class="L1" id="line52"><code></code></li><li class="L2" id="line53"><code><span class="pln">    </span><span class="com">// Options</span></code></li><li class="L3" id="line54"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">playSelector </span><span class="pun">=</span><span class="pln"> playSelector</span><span class="pun">;</span></code></li><li class="L4" id="line55"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">pauseSelector </span><span class="pun">=</span><span class="pln"> pauseSelector</span><span class="pun">;</span></code></li><li class="L5" id="line56"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">containerClass </span><span class="pun">=</span><span class="pln"> containerClass</span><span class="pun">;</span></code></li><li class="L6" id="line57"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesClass </span><span class="pun">=</span><span class="pln"> slidesClass</span><span class="pun">;</span></code></li><li class="L7" id="line58"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slideClass </span><span class="pun">=</span><span class="pln"> slideClass</span><span class="pun">;</span></code></li><li class="L8" id="line59"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currentSlideClass </span><span class="pun">=</span><span class="pln"> currentSlideClass</span><span class="pun">;</span></code></li><li class="L9" id="line60"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItemsClass </span><span class="pun">=</span><span class="pln"> navigationItemsClass</span><span class="pun">;</span></code></li><li class="L0" id="line61"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">controlsClass </span><span class="pun">=</span><span class="pln"> controlsClass</span><span class="pun">;</span></code></li><li class="L1" id="line62"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">attachClickListener </span><span class="pun">=</span><span class="pln"> attachClickListener</span><span class="pun">;</span></code></li><li class="L2" id="line63"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">attachResizeListener </span><span class="pun">=</span><span class="pln"> attachResizeListener</span><span class="pun">;</span></code></li><li class="L3" id="line64"><code></code></li><li class="L4" id="line65"><code><span class="pln">    </span><span class="com">// Private variables</span></code></li><li class="L5" id="line66"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L6" id="line67"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L7" id="line68"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L8" id="line69"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L9" id="line70"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L0" id="line71"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">total </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L1" id="line72"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">allowShift </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L2" id="line73"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">activeNav </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L3" id="line74"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L4" id="line75"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlayInterval </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L5" id="line76"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hoverAutoPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L6" id="line77"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">resizeTimer </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L7" id="line78"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posX1 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L8" id="line79"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posX2 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L9" id="line80"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posInitial </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L0" id="line81"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posFinal </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L1" id="line82"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">threshold </span><span class="pun">=</span><span class="pln"> </span><span class="lit">80</span><span class="pun">;</span></code></li><li class="L2" id="line83"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItems </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L3" id="line84"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigation </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L4" id="line85"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">controls </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L5" id="line86"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">direction </span><span class="pun">=</span><span class="pln"> </span><span class="str">'ltr'</span><span class="pun">;</span></code></li><li class="L6" id="line87"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneFirstSLide </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L7" id="line88"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneLastSLide </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L8" id="line89"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">executionCount </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L9" id="line90"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">maxExecutions </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span></code></li><li class="L0" id="line91"><code></code></li><li class="L1" id="line92"><code><span class="pln">    </span><span class="com">// Bind `this` for use in callbacks</span></code></li><li class="L2" id="line93"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L3" id="line94"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleMouseOver </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleMouseOver</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L4" id="line95"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleMouseOut </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleMouseOut</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L5" id="line96"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">shiftSlide </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">shiftSlide</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L6" id="line97"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkIndex </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkIndex</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L7" id="line98"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">moveSlides </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">moveSlides</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L8" id="line99"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleResize </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleResize</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L9" id="line100"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragStart </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragStart</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L0" id="line101"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragEnd </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragEnd</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L1" id="line102"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragAction </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragAction</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L2" id="line103"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleFocus </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleFocus</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L3" id="line104"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleKeyboardOnPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleKeyboardOnPlay</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L4" id="line105"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleKeyboardOnBullets </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleKeyboardOnBullets</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L5" id="line106"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkBannerHeights </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkBannerHeights</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L6" id="line107"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">resetBannerHeights </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">resetBannerHeights</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L7" id="line108"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L8" id="line109"><code></code></li><li class="L9" id="line110"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L0" id="line111"><code><span class="com">   * Initialise component.</span></code></li><li class="L1" id="line112"><code><span class="com">   */</span></code></li><li class="L2" id="line113"><code><span class="pln">  init</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line114"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ECL</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line115"><code><span class="pln">      </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TypeError</span><span class="pun">(</span><span class="str">'Called init but ECL is not present'</span><span class="pun">);</span></code></li><li class="L5" id="line116"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6" id="line117"><code><span class="pln">    ECL</span><span class="pun">.</span><span class="pln">components </span><span class="pun">=</span><span class="pln"> ECL</span><span class="pun">.</span><span class="pln">components </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">();</span></code></li><li class="L7" id="line118"><code></code></li><li class="L8" id="line119"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">playSelector</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L9" id="line120"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">pauseSelector</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L0" id="line121"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesClass</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L1" id="line122"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">containerClass</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L2" id="line123"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigation </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="str">'.ecl-carousel__navigation'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L3" id="line124"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItems </span><span class="pun">=</span><span class="pln"> queryAll</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItemsClass</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L4" id="line125"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">controls </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">controlsClass</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L5" id="line126"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currentSlide </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currentSlideClass</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L6" id="line127"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">direction </span><span class="pun">=</span><span class="pln"> getComputedStyle</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">).</span><span class="pln">direction</span><span class="pun">;</span></code></li><li class="L7" id="line128"><code></code></li><li class="L8" id="line129"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides </span><span class="pun">=</span><span class="pln"> queryAll</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slideClass</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L9" id="line130"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">total </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span></code></li><li class="L0" id="line131"><code></code></li><li class="L1" id="line132"><code><span class="pln">    </span><span class="com">// If only one slide, don't initialize carousel and hide controls</span></code></li><li class="L2" id="line133"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">total </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line134"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">controls</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line135"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">controls</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">'none'</span><span class="pun">;</span></code></li><li class="L5" id="line136"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L6" id="line137"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line138"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">'block'</span><span class="pun">;</span></code></li><li class="L8" id="line139"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L9" id="line140"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L0" id="line141"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L1" id="line142"><code></code></li><li class="L2" id="line143"><code><span class="pln">    </span><span class="com">// Start initializing carousel</span></code></li><li class="L3" id="line144"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> firstSlide </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span></code></li><li class="L4" id="line145"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> lastSlide </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">[</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></code></li><li class="L5" id="line146"><code></code></li><li class="L6" id="line147"><code><span class="pln">    </span><span class="com">// Clone first and last slide</span></code></li><li class="L7" id="line148"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneFirstSLide </span><span class="pun">=</span><span class="pln"> firstSlide</span><span class="pun">.</span><span class="pln">cloneNode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L8" id="line149"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneLastSLide </span><span class="pun">=</span><span class="pln"> lastSlide</span><span class="pun">.</span><span class="pln">cloneNode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L9" id="line150"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">appendChild</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneFirstSLide</span><span class="pun">);</span></code></li><li class="L0" id="line151"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">insertBefore</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneLastSLide</span><span class="pun">,</span><span class="pln"> firstSlide</span><span class="pun">);</span></code></li><li class="L1" id="line152"><code></code></li><li class="L2" id="line153"><code><span class="pln">    </span><span class="com">// Refresh the slides variable after adding new cloned slides</span></code></li><li class="L3" id="line154"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides </span><span class="pun">=</span><span class="pln"> queryAll</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slideClass</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L4" id="line155"><code></code></li><li class="L5" id="line156"><code><span class="pln">    </span><span class="com">// Initialize position of slides and size of the carousel</span></code></li><li class="L6" id="line157"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">slide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line158"><code><span class="pln">      slide</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">width </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${100 / this.slides.length}%`</span><span class="pun">;</span></code></li><li class="L8" id="line159"><code><span class="pln">    </span><span class="pun">});</span></code></li><li class="L9" id="line160"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleResize</span><span class="pun">();</span></code></li><li class="L0" id="line161"><code></code></li><li class="L1" id="line162"><code><span class="pln">    </span><span class="com">// Initialze pagination and navigation</span></code></li><li class="L2" id="line163"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkIndex</span><span class="pun">();</span></code></li><li class="L3" id="line164"><code></code></li><li class="L4" id="line165"><code><span class="pln">    </span><span class="com">// Bind events</span></code></li><li class="L5" id="line166"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItems</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line167"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItems</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">nav</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line168"><code><span class="pln">        nav</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span></code></li><li class="L8" id="line169"><code><span class="pln">          </span><span class="str">'click'</span><span class="pun">,</span></code></li><li class="L9" id="line170"><code><span class="pln">          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">shiftSlide</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> index </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">),</span></code></li><li class="L0" id="line171"><code><span class="pln">        </span><span class="pun">);</span></code></li><li class="L1" id="line172"><code><span class="pln">      </span><span class="pun">});</span></code></li><li class="L2" id="line173"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L3" id="line174"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigation</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line175"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigation</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'keydown'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleKeyboardOnBullets</span><span class="pun">);</span></code></li><li class="L5" id="line176"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6" id="line177"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">attachClickListener </span><span class="pun">&&</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay </span><span class="pun">&&</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line178"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">);</span></code></li><li class="L8" id="line179"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">);</span></code></li><li class="L9" id="line180"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L0" id="line181"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line182"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'keydown'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleKeyboardOnPlay</span><span class="pun">);</span></code></li><li class="L2" id="line183"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L3" id="line184"><code></code></li><li class="L4" id="line185"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line186"><code><span class="pln">      </span><span class="com">// Mouse events</span></code></li><li class="L6" id="line187"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'mouseover'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleMouseOver</span><span class="pun">);</span></code></li><li class="L7" id="line188"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'mouseout'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleMouseOut</span><span class="pun">);</span></code></li><li class="L8" id="line189"><code></code></li><li class="L9" id="line190"><code><span class="pln">      </span><span class="com">// Touch events</span></code></li><li class="L0" id="line191"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'touchstart'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragStart</span><span class="pun">);</span></code></li><li class="L1" id="line192"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'touchend'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragEnd</span><span class="pun">);</span></code></li><li class="L2" id="line193"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'touchmove'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragAction</span><span class="pun">);</span></code></li><li class="L3" id="line194"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'transitionend'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkIndex</span><span class="pun">);</span></code></li><li class="L4" id="line195"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L5" id="line196"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line197"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'focus'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleFocus</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L7" id="line198"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L8" id="line199"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">attachResizeListener</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9" id="line200"><code><span class="pln">      window</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'resize'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleResize</span><span class="pun">);</span></code></li><li class="L0" id="line201"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L1" id="line202"><code></code></li><li class="L2" id="line203"><code><span class="pln">    </span><span class="com">// Set ecl initialized attribute</span></code></li><li class="L3" id="line204"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">.</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">'data-ecl-auto-initialized'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'true'</span><span class="pun">);</span></code></li><li class="L4" id="line205"><code><span class="pln">    ECL</span><span class="pun">.</span><span class="pln">components</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L5" id="line206"><code></code></li><li class="L6" id="line207"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L7" id="line208"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L8" id="line209"><code></code></li><li class="L9" id="line210"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L0" id="line211"><code><span class="com">   * Destroy component.</span></code></li><li class="L1" id="line212"><code><span class="com">   */</span></code></li><li class="L2" id="line213"><code><span class="pln">  destroy</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line214"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneFirstSLide </span><span class="pun">&&</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneLastSLide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line215"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneFirstSLide</span><span class="pun">.</span><span class="pln">remove</span><span class="pun">();</span></code></li><li class="L5" id="line216"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cloneLastSLide</span><span class="pun">.</span><span class="pln">remove</span><span class="pun">();</span></code></li><li class="L6" id="line217"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L7" id="line218"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8" id="line219"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">.</span><span class="pln">replaceWith</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">.</span><span class="pln">cloneNode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">));</span></code></li><li class="L9" id="line220"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L0" id="line221"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line222"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">.</span><span class="pln">replaceWith</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">.</span><span class="pln">cloneNode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">));</span></code></li><li class="L2" id="line223"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L3" id="line224"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line225"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span></code></li><li class="L5" id="line226"><code><span class="pln">        </span><span class="str">'mouseover'</span><span class="pun">,</span></code></li><li class="L6" id="line227"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleMouseOver</span><span class="pun">,</span></code></li><li class="L7" id="line228"><code><span class="pln">      </span><span class="pun">);</span></code></li><li class="L8" id="line229"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span><span class="str">'mouseout'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleMouseOut</span><span class="pun">);</span></code></li><li class="L9" id="line230"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span><span class="str">'touchstart'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragStart</span><span class="pun">);</span></code></li><li class="L0" id="line231"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span><span class="str">'touchend'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragEnd</span><span class="pun">);</span></code></li><li class="L1" id="line232"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span><span class="str">'touchmove'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dragAction</span><span class="pun">);</span></code></li><li class="L2" id="line233"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span></code></li><li class="L3" id="line234"><code><span class="pln">        </span><span class="str">'transitionend'</span><span class="pun">,</span></code></li><li class="L4" id="line235"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkIndex</span><span class="pun">,</span></code></li><li class="L5" id="line236"><code><span class="pln">      </span><span class="pun">);</span></code></li><li class="L6" id="line237"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L7" id="line238"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8" id="line239"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span><span class="str">'focus'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleFocus</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L9" id="line240"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L0" id="line241"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItems</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line242"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItems</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">nav</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line243"><code><span class="pln">        nav</span><span class="pun">.</span><span class="pln">replaceWith</span><span class="pun">(</span><span class="pln">nav</span><span class="pun">.</span><span class="pln">cloneNode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">));</span></code></li><li class="L3" id="line244"><code><span class="pln">      </span><span class="pun">});</span></code></li><li class="L4" id="line245"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L5" id="line246"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">attachResizeListener</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line247"><code><span class="pln">      window</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span><span class="str">'resize'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleResize</span><span class="pun">);</span></code></li><li class="L7" id="line248"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L8" id="line249"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlayInterval</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9" id="line250"><code><span class="pln">      clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlayInterval</span><span class="pun">);</span></code></li><li class="L0" id="line251"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L1" id="line252"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L2" id="line253"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line254"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">.</span><span class="pln">removeAttribute</span><span class="pun">(</span><span class="str">'data-ecl-auto-initialized'</span><span class="pun">);</span></code></li><li class="L4" id="line255"><code><span class="pln">      ECL</span><span class="pun">.</span><span class="pln">components</span><span class="pun">.</span><span class="kwd">delete</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L5" id="line256"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6" id="line257"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L7" id="line258"><code></code></li><li class="L8" id="line259"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L9" id="line260"><code><span class="com">   * Set the banners height above the xl breakpoint</span></code></li><li class="L0" id="line261"><code><span class="com">   */</span></code></li><li class="L1" id="line262"><code><span class="pln">  checkBannerHeights</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line263"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">executionCount </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L3" id="line264"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">executionCount </span><span class="pun">></span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">maxExecutions</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line265"><code><span class="pln">      clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">intervalId</span><span class="pun">);</span></code></li><li class="L5" id="line266"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">executionCount </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L6" id="line267"><code><span class="pln">      </span><span class="kwd">return</span><span class="pun">;</span></code></li><li class="L7" id="line268"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L8" id="line269"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> heightValues </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">.</span><span class="pln">map</span><span class="pun">((</span><span class="pln">slide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9" id="line270"><code><span class="pln">      </span><span class="kwd">const</span><span class="pln"> banner </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="str">'.ecl-banner'</span><span class="pun">,</span><span class="pln"> slide</span><span class="pun">);</span></code></li><li class="L0" id="line271"><code><span class="pln">      </span><span class="kwd">const</span><span class="pln"> height </span><span class="pun">=</span><span class="pln"> parseInt</span><span class="pun">(</span><span class="pln">banner</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">);</span></code></li><li class="L1" id="line272"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">banner</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">===</span><span class="pln"> </span><span class="str">'auto'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line273"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L3" id="line274"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L4" id="line275"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Number</span><span class="pun">.</span><span class="pln">isNaN</span><span class="pun">(</span><span class="pln">height</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> height </span><span class="pun">===</span><span class="pln"> </span><span class="lit">100</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line276"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L6" id="line277"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L7" id="line278"><code></code></li><li class="L8" id="line279"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> height</span><span class="pun">;</span></code></li><li class="L9" id="line280"><code><span class="pln">    </span><span class="pun">});</span></code></li><li class="L0" id="line281"><code></code></li><li class="L1" id="line282"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> elementHeights </span><span class="pun">=</span><span class="pln"> heightValues</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span></code></li><li class="L2" id="line283"><code><span class="pln">      </span><span class="pun">(</span><span class="pln">height</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> height </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">,</span></code></li><li class="L3" id="line284"><code><span class="pln">    </span><span class="pun">);</span></code></li><li class="L4" id="line285"><code></code></li><li class="L5" id="line286"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> tallestElementHeight </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(...</span><span class="pln">elementHeights</span><span class="pun">);</span></code></li><li class="L6" id="line287"><code><span class="pln">    </span><span class="com">// We stop checking the heights of the banner if we know that all the slides</span></code></li><li class="L7" id="line288"><code><span class="pln">    </span><span class="com">// have height: auto; or if a banner with an height that is not 100% or undefined is found.</span></code></li><li class="L8" id="line289"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span></code></li><li class="L9" id="line290"><code><span class="pln">      </span><span class="pun">(</span><span class="pln">elementHeights</span><span class="pun">.</span><span class="pln">length </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&&</span></code></li><li class="L0" id="line291"><code><span class="pln">        tallestElementHeight </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span></code></li><li class="L1" id="line292"><code><span class="pln">      tallestElementHeight </span><span class="pun">></span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L2" id="line293"><code><span class="pln">    </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line294"><code><span class="pln">      clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">intervalId</span><span class="pun">);</span></code></li><li class="L4" id="line295"><code></code></li><li class="L5" id="line296"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tallestElementHeight </span><span class="pun">></span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line297"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">executionCount </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L7" id="line298"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">slide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8" id="line299"><code><span class="pln">          let bannerImage </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L9" id="line300"><code><span class="pln">          </span><span class="kwd">const</span><span class="pln"> banner </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="str">'.ecl-banner'</span><span class="pun">,</span><span class="pln"> slide</span><span class="pun">);</span></code></li><li class="L0" id="line301"><code><span class="pln">          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">banner</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line302"><code><span class="pln">            bannerImage </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="str">'img'</span><span class="pun">,</span><span class="pln"> banner</span><span class="pun">);</span></code></li><li class="L2" id="line303"><code><span class="pln">            banner</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${tallestElementHeight}px`</span><span class="pun">;</span></code></li><li class="L3" id="line304"><code><span class="pln">          </span><span class="pun">}</span></code></li><li class="L4" id="line305"><code><span class="pln">          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bannerImage</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line306"><code><span class="pln">            bannerImage</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">aspectRatio </span><span class="pun">=</span><span class="pln"> </span><span class="str">'auto'</span><span class="pun">;</span></code></li><li class="L6" id="line307"><code><span class="pln">          </span><span class="pun">}</span></code></li><li class="L7" id="line308"><code><span class="pln">        </span><span class="pun">});</span></code></li><li class="L8" id="line309"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L9" id="line310"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L0" id="line311"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L1" id="line312"><code></code></li><li class="L2" id="line313"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L3" id="line314"><code><span class="com">   * Set the banners height below the xl breakpoint</span></code></li><li class="L4" id="line315"><code><span class="com">   */</span></code></li><li class="L5" id="line316"><code><span class="pln">  resetBannerHeights</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line317"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">slide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line318"><code><span class="pln">      </span><span class="kwd">const</span><span class="pln"> banner </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="str">'.ecl-banner'</span><span class="pun">,</span><span class="pln"> slide</span><span class="pun">);</span></code></li><li class="L8" id="line319"><code><span class="pln">      let bannerImage </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L9" id="line320"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">banner</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0" id="line321"><code><span class="pln">        banner</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span></code></li><li class="L1" id="line322"><code><span class="pln">        bannerImage </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="str">'img'</span><span class="pun">,</span><span class="pln"> banner</span><span class="pun">);</span></code></li><li class="L2" id="line323"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bannerImage</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line324"><code><span class="pln">          bannerImage</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">aspectRatio </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span></code></li><li class="L4" id="line325"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L5" id="line326"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L6" id="line327"><code><span class="pln">    </span><span class="pun">});</span></code></li><li class="L7" id="line328"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L8" id="line329"><code></code></li><li class="L9" id="line330"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L0" id="line331"><code><span class="com">   * TouchStart handler.</span></code></li><li class="L1" id="line332"><code><span class="com">   * @param {Event} e</span></code></li><li class="L2" id="line333"><code><span class="com">   */</span></code></li><li class="L3" id="line334"><code><span class="pln">  dragStart</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line335"><code><span class="pln">    e </span><span class="pun">=</span><span class="pln"> e </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="kwd">event</span><span class="pun">;</span></code></li><li class="L5" id="line336"><code></code></li><li class="L6" id="line337"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posInitial </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">offsetLeft</span><span class="pun">;</span></code></li><li class="L7" id="line338"><code></code></li><li class="L8" id="line339"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">type </span><span class="pun">===</span><span class="pln"> </span><span class="str">'touchstart'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9" id="line340"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posX1 </span><span class="pun">=</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">touches</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">clientX</span><span class="pun">;</span></code></li><li class="L0" id="line341"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L1" id="line342"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L2" id="line343"><code></code></li><li class="L3" id="line344"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L4" id="line345"><code><span class="com">   * TouchMove handler.</span></code></li><li class="L5" id="line346"><code><span class="com">   * @param {Event} e</span></code></li><li class="L6" id="line347"><code><span class="com">   */</span></code></li><li class="L7" id="line348"><code><span class="pln">  dragAction</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8" id="line349"><code><span class="pln">    e </span><span class="pun">=</span><span class="pln"> e </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="kwd">event</span><span class="pun">;</span></code></li><li class="L9" id="line350"><code></code></li><li class="L0" id="line351"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">type </span><span class="pun">===</span><span class="pln"> </span><span class="str">'touchmove'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line352"><code><span class="pln">      e</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span></code></li><li class="L2" id="line353"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posX2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posX1 </span><span class="pun">-</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">touches</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">clientX</span><span class="pun">;</span></code></li><li class="L3" id="line354"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posX1 </span><span class="pun">=</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">touches</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">clientX</span><span class="pun">;</span></code></li><li class="L4" id="line355"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L5" id="line356"><code></code></li><li class="L6" id="line357"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${</span></code></li><li class="L7" id="line358"><code><span class="str">      this.slidesContainer.offsetLeft - this.posX2</span></code></li><li class="L8" id="line359"><code><span class="str">    }px`</span><span class="pun">;</span></code></li><li class="L9" id="line360"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L0" id="line361"><code></code></li><li class="L1" id="line362"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L2" id="line363"><code><span class="com">   * TouchEnd handler.</span></code></li><li class="L3" id="line364"><code><span class="com">   */</span></code></li><li class="L4" id="line365"><code><span class="pln">  dragEnd</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line366"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posFinal </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">offsetLeft</span><span class="pun">;</span></code></li><li class="L6" id="line367"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posFinal </span><span class="pun">-</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posInitial </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">-</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">threshold</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line368"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">shiftSlide</span><span class="pun">(</span><span class="str">'next'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L8" id="line369"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posFinal </span><span class="pun">-</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">posInitial </span><span class="pun">></span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">threshold</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9" id="line370"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">shiftSlide</span><span class="pun">(</span><span class="str">'prev'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L0" id="line371"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line372"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${this.posInitial}px`</span><span class="pun">;</span></code></li><li class="L2" id="line373"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L3" id="line374"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L4" id="line375"><code></code></li><li class="L5" id="line376"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L6" id="line377"><code><span class="com">   * Action to shift next or previous slide.</span></code></li><li class="L7" id="line378"><code><span class="com">   * @param {int|string} dir</span></code></li><li class="L8" id="line379"><code><span class="com">   * @param {Boolean} stopAutoPlay</span></code></li><li class="L9" id="line380"><code><span class="com">   */</span></code></li><li class="L0" id="line381"><code><span class="pln">  shiftSlide</span><span class="pun">(</span><span class="pln">dir</span><span class="pun">,</span><span class="pln"> stopAutoPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line382"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">allowShift</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line383"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> dir </span><span class="pun">===</span><span class="pln"> </span><span class="str">'number'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line384"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">=</span><span class="pln"> dir</span><span class="pun">;</span></code></li><li class="L4" id="line385"><code><span class="pln">      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line386"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">=</span><span class="pln"> dir </span><span class="pun">===</span><span class="pln"> </span><span class="str">'next'</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L6" id="line387"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L7" id="line388"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">moveSlides</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L8" id="line389"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9" id="line390"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">stopAutoPlay </span><span class="pun">&&</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0" id="line391"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">();</span></code></li><li class="L1" id="line392"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L2" id="line393"><code></code></li><li class="L3" id="line394"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">allowShift </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L4" id="line395"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L5" id="line396"><code></code></li><li class="L6" id="line397"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L7" id="line398"><code><span class="com">   * Transition for the slides.</span></code></li><li class="L8" id="line399"><code><span class="com">   * @param {Boolean} transition</span></code></li><li class="L9" id="line400"><code><span class="com">   */</span></code></li><li class="L0" id="line401"><code><span class="pln">  moveSlides</span><span class="pun">(</span><span class="pln">transition</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line402"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> newOffset </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">.</span><span class="pln">offsetWidth </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index</span><span class="pun">;</span></code></li><li class="L2" id="line403"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">transitionDuration </span><span class="pun">=</span><span class="pln"> transition </span><span class="pun">?</span><span class="pln"> </span><span class="str">'0.4s'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">'0s'</span><span class="pun">;</span></code></li><li class="L3" id="line404"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">direction </span><span class="pun">===</span><span class="pln"> </span><span class="str">'rtl'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line405"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">right </span><span class="pun">=</span><span class="pln"> </span><span class="str">`-${newOffset}px`</span><span class="pun">;</span></code></li><li class="L5" id="line406"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line407"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> </span><span class="str">`-${newOffset}px`</span><span class="pun">;</span></code></li><li class="L7" id="line408"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L8" id="line409"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L9" id="line410"><code></code></li><li class="L0" id="line411"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L1" id="line412"><code><span class="com">   * Action to update slides index and position.</span></code></li><li class="L2" id="line413"><code><span class="com">   */</span></code></li><li class="L3" id="line414"><code><span class="pln">  checkIndex</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line415"><code><span class="pln">    </span><span class="com">// Update index</span></code></li><li class="L5" id="line416"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line417"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">total</span><span class="pun">;</span></code></li><li class="L7" id="line418"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L8" id="line419"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">total </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9" id="line420"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L0" id="line421"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L1" id="line422"><code></code></li><li class="L2" id="line423"><code><span class="pln">    </span><span class="com">// Move slide without transition to ensure infinity loop</span></code></li><li class="L3" id="line424"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">moveSlides</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span></code></li><li class="L4" id="line425"><code></code></li><li class="L5" id="line426"><code><span class="pln">    </span><span class="com">// Update pagination</span></code></li><li class="L6" id="line427"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currentSlide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line428"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currentSlide</span><span class="pun">.</span><span class="pln">textContent </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index</span><span class="pun">;</span></code></li><li class="L8" id="line429"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9" id="line430"><code></code></li><li class="L0" id="line431"><code><span class="pln">    </span><span class="com">// Update slides</span></code></li><li class="L1" id="line432"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line433"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slides</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">slide</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line434"><code><span class="pln">        </span><span class="kwd">const</span><span class="pln"> cta </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span><span class="str">'.ecl-link--cta'</span><span class="pun">,</span><span class="pln"> slide</span><span class="pun">);</span></code></li><li class="L4" id="line435"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">===</span><span class="pln"> index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line436"><code><span class="pln">          slide</span><span class="pun">.</span><span class="pln">removeAttribute</span><span class="pun">(</span><span class="str">'inert'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'true'</span><span class="pun">);</span></code></li><li class="L6" id="line437"><code><span class="pln">          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cta</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line438"><code><span class="pln">            cta</span><span class="pun">.</span><span class="pln">removeAttribute</span><span class="pun">(</span><span class="str">'tabindex'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">);</span></code></li><li class="L8" id="line439"><code><span class="pln">          </span><span class="pun">}</span></code></li><li class="L9" id="line440"><code><span class="pln">        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0" id="line441"><code><span class="pln">          slide</span><span class="pun">.</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">'inert'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'true'</span><span class="pun">);</span></code></li><li class="L1" id="line442"><code><span class="pln">          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cta</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line443"><code><span class="pln">            cta</span><span class="pun">.</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">'tabindex'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">);</span></code></li><li class="L3" id="line444"><code><span class="pln">          </span><span class="pun">}</span></code></li><li class="L4" id="line445"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L5" id="line446"><code><span class="pln">      </span><span class="pun">});</span></code></li><li class="L6" id="line447"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L7" id="line448"><code></code></li><li class="L8" id="line449"><code><span class="pln">    </span><span class="com">// Update navigation</span></code></li><li class="L9" id="line450"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItems</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0" id="line451"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">navigationItems</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">nav</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line452"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">index </span><span class="pun">===</span><span class="pln"> index </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line453"><code><span class="pln">          nav</span><span class="pun">.</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">'aria-current'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'true'</span><span class="pun">);</span></code></li><li class="L3" id="line454"><code><span class="pln">          nav</span><span class="pun">.</span><span class="pln">removeAttribute</span><span class="pun">(</span><span class="str">'tabindex'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">);</span></code></li><li class="L4" id="line455"><code><span class="pln">        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line456"><code><span class="pln">          nav</span><span class="pun">.</span><span class="pln">removeAttribute</span><span class="pun">(</span><span class="str">'aria-current'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'true'</span><span class="pun">);</span></code></li><li class="L6" id="line457"><code><span class="pln">          nav</span><span class="pun">.</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">'tabindex'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">);</span></code></li><li class="L7" id="line458"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L8" id="line459"><code><span class="pln">      </span><span class="pun">});</span></code></li><li class="L9" id="line460"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L0" id="line461"><code></code></li><li class="L1" id="line462"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">allowShift </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L2" id="line463"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L3" id="line464"><code></code></li><li class="L4" id="line465"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L5" id="line466"><code><span class="com">   * Toggles play/pause slides.</span></code></li><li class="L6" id="line467"><code><span class="com">   */</span></code></li><li class="L7" id="line468"><code><span class="pln">  handleAutoPlay</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8" id="line469"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9" id="line470"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlayInterval </span><span class="pun">=</span><span class="pln"> setInterval</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0" id="line471"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">shiftSlide</span><span class="pun">(</span><span class="str">'next'</span><span class="pun">);</span></code></li><li class="L1" id="line472"><code><span class="pln">      </span><span class="pun">},</span><span class="pln"> </span><span class="lit">5000</span><span class="pun">);</span></code></li><li class="L2" id="line473"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L3" id="line474"><code><span class="pln">      </span><span class="kwd">const</span><span class="pln"> isFocus </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">activeElement </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">;</span></code></li><li class="L4" id="line475"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">'none'</span><span class="pun">;</span></code></li><li class="L5" id="line476"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">'flex'</span><span class="pun">;</span></code></li><li class="L6" id="line477"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isFocus</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line478"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">.</span><span class="pln">focus</span><span class="pun">();</span></code></li><li class="L8" id="line479"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L9" id="line480"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0" id="line481"><code><span class="pln">      clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlayInterval</span><span class="pun">);</span></code></li><li class="L1" id="line482"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L2" id="line483"><code><span class="pln">      </span><span class="kwd">const</span><span class="pln"> isFocus </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">activeElement </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">;</span></code></li><li class="L3" id="line484"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">'flex'</span><span class="pun">;</span></code></li><li class="L4" id="line485"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPause</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">'none'</span><span class="pun">;</span></code></li><li class="L5" id="line486"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isFocus</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line487"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">.</span><span class="pln">focus</span><span class="pun">();</span></code></li><li class="L7" id="line488"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L8" id="line489"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9" id="line490"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L0" id="line491"><code></code></li><li class="L1" id="line492"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L2" id="line493"><code><span class="com">   * Trigger events on mouseover.</span></code></li><li class="L3" id="line494"><code><span class="com">   */</span></code></li><li class="L4" id="line495"><code><span class="pln">  handleMouseOver</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line496"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hoverAutoPlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay</span><span class="pun">;</span></code></li><li class="L6" id="line497"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hoverAutoPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line498"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">();</span></code></li><li class="L8" id="line499"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9" id="line500"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L0" id="line501"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L1" id="line502"><code></code></li><li class="L2" id="line503"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L3" id="line504"><code><span class="com">   * Trigger events on mouseout.</span></code></li><li class="L4" id="line505"><code><span class="com">   */</span></code></li><li class="L5" id="line506"><code><span class="pln">  handleMouseOut</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line507"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hoverAutoPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line508"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">();</span></code></li><li class="L8" id="line509"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9" id="line510"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L0" id="line511"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L1" id="line512"><code></code></li><li class="L2" id="line513"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L3" id="line514"><code><span class="com">   * Trigger events on resize.</span></code></li><li class="L4" id="line515"><code><span class="com">   */</span></code></li><li class="L5" id="line516"><code><span class="pln">  handleResize</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line517"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> vw </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(</span></code></li><li class="L7" id="line518"><code><span class="pln">      document</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">.</span><span class="pln">clientWidth </span><span class="pun">||</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></code></li><li class="L8" id="line519"><code><span class="pln">      window</span><span class="pun">.</span><span class="pln">innerWidth </span><span class="pun">||</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></code></li><li class="L9" id="line520"><code><span class="pln">    </span><span class="pun">);</span></code></li><li class="L0" id="line521"><code><span class="pln">    clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">intervalId</span><span class="pun">);</span></code></li><li class="L1" id="line522"><code><span class="pln">    clearTimeout</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">resizeTimer</span><span class="pun">);</span></code></li><li class="L2" id="line523"><code><span class="pln">    let containerWidth </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L3" id="line524"><code><span class="pln">    </span><span class="com">// We set 250ms delay which is higher than the 200ms delay in the banner.</span></code></li><li class="L4" id="line525"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">resizeTimer </span><span class="pun">=</span><span class="pln"> setTimeout</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line526"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">vw </span><span class="pun">>=</span><span class="pln"> </span><span class="lit">998</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line527"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">intervalId </span><span class="pun">=</span><span class="pln"> setInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkBannerHeights</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span></code></li><li class="L7" id="line528"><code><span class="pln">      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8" id="line529"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">resetBannerHeights</span><span class="pun">();</span></code></li><li class="L9" id="line530"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L0" id="line531"><code><span class="pln">    </span><span class="pun">},</span><span class="pln"> </span><span class="lit">250</span><span class="pun">);</span></code></li><li class="L1" id="line532"><code></code></li><li class="L2" id="line533"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">vw </span><span class="pun">>=</span><span class="pln"> </span><span class="lit">768</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line534"><code><span class="pln">      containerWidth </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">.</span><span class="pln">offsetWidth</span><span class="pun">;</span></code></li><li class="L4" id="line535"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5" id="line536"><code><span class="pln">      containerWidth </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">.</span><span class="pln">offsetWidth </span><span class="pun">+</span><span class="pln"> </span><span class="lit">15</span><span class="pun">;</span></code></li><li class="L6" id="line537"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L7" id="line538"><code></code></li><li class="L8" id="line539"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">slidesContainer</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">width </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${</span></code></li><li class="L9" id="line540"><code><span class="str">      containerWidth * this.slides.length</span></code></li><li class="L0" id="line541"><code><span class="str">    }px`</span><span class="pun">;</span></code></li><li class="L1" id="line542"><code></code></li><li class="L2" id="line543"><code><span class="pln">    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">moveSlides</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span></code></li><li class="L3" id="line544"><code></code></li><li class="L4" id="line545"><code><span class="pln">    </span><span class="com">// Add class to set a left margin to banner content and avoid arrow overlapping</span></code></li><li class="L5" id="line546"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">vw </span><span class="pun">>=</span><span class="pln"> </span><span class="lit">1140</span><span class="pln"> </span><span class="pun">&&</span><span class="pln"> vw </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">1260</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line547"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">.</span><span class="pln">classList</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="str">'ecl-carousel-container--padded'</span><span class="pun">);</span></code></li><li class="L7" id="line548"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8" id="line549"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">container</span><span class="pun">.</span><span class="pln">classList</span><span class="pun">.</span><span class="pln">remove</span><span class="pun">(</span><span class="str">'ecl-carousel-container--padded'</span><span class="pun">);</span></code></li><li class="L9" id="line550"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L0" id="line551"><code></code></li><li class="L1" id="line552"><code><span class="pln">    </span><span class="com">// Desactivate autoPlay for mobile or activate autoPlay onLoad for desktop</span></code></li><li class="L2" id="line553"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">vw </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">768</span><span class="pln"> </span><span class="pun">&&</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">vw </span><span class="pun">></span><span class="pln"> </span><span class="lit">768</span><span class="pln"> </span><span class="pun">&&</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line554"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">();</span></code></li><li class="L4" id="line555"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L5" id="line556"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L6" id="line557"><code></code></li><li class="L7" id="line558"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L8" id="line559"><code><span class="com">   * @param {Event} e</span></code></li><li class="L9" id="line560"><code><span class="com">   */</span></code></li><li class="L0" id="line561"><code><span class="pln">  handleKeyboardOnPlay</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1" id="line562"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">key </span><span class="pun">===</span><span class="pln"> </span><span class="str">'Tab'</span><span class="pln"> </span><span class="pun">&&</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">shiftKey</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line563"><code><span class="pln">      </span><span class="kwd">return</span><span class="pun">;</span></code></li><li class="L3" id="line564"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L4" id="line565"><code></code></li><li class="L5" id="line566"><code><span class="pln">    </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">key</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line567"><code><span class="pln">      </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'Tab'</span><span class="pun">:</span></code></li><li class="L7" id="line568"><code><span class="pln">      </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'ArrowRight'</span><span class="pun">:</span></code></li><li class="L8" id="line569"><code><span class="pln">        e</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span></code></li><li class="L9" id="line570"><code><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">activeNav </span><span class="pun">=</span><span class="pln"> queryOne</span><span class="pun">(</span></code></li><li class="L0" id="line571"><code><span class="pln">          </span><span class="str">`${this.navigationItemsClass}[aria-current="true"]`</span><span class="pun">,</span></code></li><li class="L1" id="line572"><code><span class="pln">        </span><span class="pun">);</span></code></li><li class="L2" id="line573"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">activeNav</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line574"><code><span class="pln">          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">activeNav</span><span class="pun">.</span><span class="pln">focus</span><span class="pun">();</span></code></li><li class="L4" id="line575"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L5" id="line576"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6" id="line577"><code><span class="pln">          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">();</span></code></li><li class="L7" id="line578"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L8" id="line579"><code><span class="pln">        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L9" id="line580"><code></code></li><li class="L0" id="line581"><code><span class="pln">      </span><span class="kwd">default</span><span class="pun">:</span></code></li><li class="L1" id="line582"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L2" id="line583"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L3" id="line584"><code></code></li><li class="L4" id="line585"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L5" id="line586"><code><span class="com">   * @param {Event} e</span></code></li><li class="L6" id="line587"><code><span class="com">   */</span></code></li><li class="L7" id="line588"><code><span class="pln">  handleKeyboardOnBullets</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8" id="line589"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> focusedEl </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">activeElement</span><span class="pun">;</span></code></li><li class="L9" id="line590"><code><span class="pln">    </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">key</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0" id="line591"><code><span class="pln">      </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'ArrowRight'</span><span class="pun">:</span></code></li><li class="L1" id="line592"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">focusedEl</span><span class="pun">.</span><span class="pln">nextSibling</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2" id="line593"><code><span class="pln">          e</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span></code></li><li class="L3" id="line594"><code><span class="pln">          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">shiftSlide</span><span class="pun">(</span><span class="str">'next'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L4" id="line595"><code><span class="pln">          setTimeout</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> focusedEl</span><span class="pun">.</span><span class="pln">nextSibling</span><span class="pun">.</span><span class="pln">focus</span><span class="pun">(),</span><span class="pln"> </span><span class="lit">400</span><span class="pun">);</span></code></li><li class="L5" id="line596"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L6" id="line597"><code><span class="pln">        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L7" id="line598"><code></code></li><li class="L8" id="line599"><code><span class="pln">      </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'ArrowLeft'</span><span class="pun">:</span></code></li><li class="L9" id="line600"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">focusedEl</span><span class="pun">.</span><span class="pln">previousSibling</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0" id="line601"><code><span class="pln">          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">shiftSlide</span><span class="pun">(</span><span class="str">'prev'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L1" id="line602"><code><span class="pln">          setTimeout</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> focusedEl</span><span class="pun">.</span><span class="pln">previousSibling</span><span class="pun">.</span><span class="pln">focus</span><span class="pun">(),</span><span class="pln"> </span><span class="lit">400</span><span class="pun">);</span></code></li><li class="L2" id="line603"><code><span class="pln">        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3" id="line604"><code><span class="pln">          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">btnPlay</span><span class="pun">.</span><span class="pln">focus</span><span class="pun">();</span></code></li><li class="L4" id="line605"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L5" id="line606"><code><span class="pln">        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L6" id="line607"><code></code></li><li class="L7" id="line608"><code><span class="pln">      </span><span class="kwd">default</span><span class="pun">:</span></code></li><li class="L8" id="line609"><code><span class="pln">      </span><span class="com">// Handle other key events here</span></code></li><li class="L9" id="line610"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L0" id="line611"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L1" id="line612"><code></code></li><li class="L2" id="line613"><code><span class="pln">  </span><span class="com">/**</span></code></li><li class="L3" id="line614"><code><span class="com">   * Trigger events on focus.</span></code></li><li class="L4" id="line615"><code><span class="com">   * @param {Event} e</span></code></li><li class="L5" id="line616"><code><span class="com">   */</span></code></li><li class="L6" id="line617"><code><span class="pln">  handleFocus</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7" id="line618"><code><span class="pln">    </span><span class="kwd">const</span><span class="pln"> focusElement </span><span class="pun">=</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">target</span><span class="pun">;</span></code></li><li class="L8" id="line619"><code><span class="pln">    </span><span class="com">// Disable autoplay if focus is on a slide CTA</span></code></li><li class="L9" id="line620"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span></code></li><li class="L0" id="line621"><code><span class="pln">      focusElement </span><span class="pun">&&</span></code></li><li class="L1" id="line622"><code><span class="pln">      focusElement</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">activeElement</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&&</span></code></li><li class="L2" id="line623"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoPlay</span></code></li><li class="L3" id="line624"><code><span class="pln">    </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4" id="line625"><code><span class="pln">      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleAutoPlay</span><span class="pun">();</span></code></li><li class="L5" id="line626"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6" id="line627"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L7" id="line628"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L8" id="line629"><code><span class="pun">}</span></code></li><li class="L9" id="line630"><code></code></li><li class="L0" id="line631"><code><span class="kwd">export</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> </span><span class="typ">Carousel</span><span class="pun">;</span></code></li></ol></pre></article></section></div><br class="clear"><footer>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.3</a> on Thu Jul 04 2024 08:17:32 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.</footer><script>prettyPrint();</script><script src="scripts/polyfill.js"></script><script src="scripts/linenumber.js"></script></body></html>